EMOJI_MAP = {
    # Happy/Positive Emotions
    ':smile:': '😄',
    ':laugh:': '😂',
    ':grin:': '😀',
    ':joy:': '😂',
    ':wink:': '😉',
    ':cool:': '😎',
    ':love:': '😍',
    ':happy:': '😊',
    ':blush:': '😊',
    ':smirk:': '😏',
    ':relaxed:': '☺️',
    ':innocent:': '😇',
    ':angel:': '😇',
    ':laughing:': '😆',
    ':satisfied:': '😆',
    ':sunglasses:': '😎',
    ':heart_eyes:': '😍',
    ':kissing:': '😗',
    ':kiss:': '😘',
    ':slightly_smiling:': '🙂',
    ':upside_down:': '🙃',
    
    # Hearts & Love
    ':heart:': '❤️',
    ':red_heart:': '❤️',
    ':orange_heart:': '🧡',
    ':yellow_heart:': '💛',
    ':green_heart:': '💚',
    ':blue_heart:': '💙',
    ':purple_heart:': '💜',
    ':brown_heart:': '🤎',
    ':black_heart:': '🖤',
    ':white_heart:': '🤍',
    ':pink_heart:': '💕',
    ':two_hearts:': '💕',
    ':heartbeat:': '💓',
    ':sparkling_heart:': '💖',
    ':cupid:': '💘',
    ':love_letter:': '💌',
    ':broken_heart:': '💔',
    
    # Reactions & Gestures
    ':fire:': '🔥',
    ':thumbsup:': '👍',
    ':thumbsdown:': '👎',
    ':clap:': '👏',
    ':pray:': '🙏',
    ':100:': '💯',
    ':star:': '⭐',
    ':check:': '✅',
    ':cross:': '❌',
    ':wave:': '👋',
    ':point_right:': '👉',
    ':point_left:': '👈',
    ':point_up:': '👆',
    ':point_down:': '👇',
    ':ok_hand:': '👌',
    ':peace:': '✌️',
    ':muscle:': '💪',
    ':fist:': '✊',
    ':punch:': '👊',
    ':raised_hand:': '✋',
    ':open_hands:': '👐',
    ':handshake:': '🤝',
    ':writing_hand:': '✍️',
    ':nail_care:': '💅',
    ':selfie:': '🤳',
    
    # Sad/Negative Emotions
    ':sad:': '😢',
    ':cry:': '😭',
    ':angry:': '😠',
    ':rage:': '😡',
    ':disappointed:': '😞',
    ':worried:': '😟',
    ':confused:': '😕',
    ':tired:': '😴',
    ':sleepy:': '😴',
    ':yawn:': '🥱',
    ':sick:': '🤒',
    ':dizzy:': '😵',
    ':scared:': '😨',
    ':fearful:': '😰',
    ':cold_sweat:': '😰',
    ':frowning:': '☹️',
    ':pensive:': '😔',
    ':weary:': '😩',
    ':sob:': '😭',
    ':scream:': '😱',
    ':persevere:': '😣',
    ':triumph:': '😤',
    
    # Fun & Party
    ':party:': '🎉',
    ':tada:': '🎊',
    ':balloon:': '🎈',
    ':gift:': '🎁',
    ':cake:': '🎂',
    ':confetti:': '🎊',
    ':birthday:': '🎂',
    ':celebration:': '🎉',
    ':champagne:': '🍾',
    ':wine:': '🍷',
    ':beer:': '🍺',
    ':cocktail:': '🍸',
    ':tropical_drink:': '🍹',
    ':dancing:': '💃',
    ':dancer:': '💃',
    ':man_dancing:': '🕺',
    ':disco:': '🕺',
    
    # Objects & Items
    ':rocket:': '🚀',
    ':crown:': '👑',
    ':gem:': '💎',
    ':diamond:': '💎',
    ':boom:': '💥',
    ':lightning:': '⚡',
    ':shield:': '🛡️',
    ':sword:': '⚔️',
    ':gun:': '🔫',
    ':bow:': '🏹',
    ':bomb:': '💣',
    ':key:': '🗝️',
    ':lock:': '🔒',
    ':unlock:': '🔓',
    ':door:': '🚪',
    ':trophy:': '🏆',
    ':medal:': '🏅',
    ':first_place:': '🥇',
    ':second_place:': '🥈',
    ':third_place:': '🥉',
    ':gift_heart:': '💝',
    ':moneybag:': '💰',
    ':dollar:': '💵',
    ':credit_card:': '💳',
    
    # Nature & Weather
    ':sun:': '☀️',
    ':moon:': '🌙',
    ':rainbow:': '🌈',
    ':tree:': '🌳',
    ':flower:': '🌸',
    ':rose:': '🌹',
    ':tulip:': '🌷',
    ':sunflower:': '🌻',
    ':cherry_blossom:': '🌸',
    ':leaves:': '🍃',
    ':maple_leaf:': '🍁',
    ':evergreen:': '🌲',
    ':palm_tree:': '🌴',
    ':cactus:': '🌵',
    ':mushroom:': '🍄',
    ':earth:': '🌍',
    ':globe:': '🌎',
    ':star2:': '🌟',
    ':sparkles:': '✨',
    ':cloud:': '☁️',
    ':rain:': '🌧️',
    ':snow:': '❄️',
    ':snowman:': '⛄',
    ':wind:': '💨',
    ':tornado:': '🌪️',
    ':volcano:': '🌋',
    
    # Thinking & Expressions
    ':thinking:': '🤔',
    ':eyes:': '👀',
    ':eye:': '👁️',
    ':see_no_evil:': '🙈',
    ':hear_no_evil:': '🙉',
    ':speak_no_evil:': '🙊',
    ':brain:': '🧠',
    ':mind_blown:': '🤯',
    ':nerd:': '🤓',
    ':monocle:': '🧐',
    ':face_with_monocle:': '🧐',
    ':raised_eyebrow:': '🤨',
    ':neutral:': '😐',
    ':expressionless:': '😑',
    ':no_mouth:': '😶',
    ':zipper_mouth:': '🤐',
    ':shush:': '🤫',
    ':lying:': '🤥',
    
    # Creatures & Characters
    ':skull:': '💀',
    ':ghost:': '👻',
    ':alien:': '👽',
    ':robot:': '🤖',
    ':ninja:': '🥷',
    ':zombie:': '🧟',
    ':vampire:': '🧛',
    ':mage:': '🧙',
    ':fairy:': '🧚',
    ':elf:': '🧝',
    ':genie:': '🧞',
    ':superhero:': '🦸',
    ':supervillain:': '🦹',
    ':detective:': '🕵️',
    ':guard:': '💂',
    ':construction_worker:': '👷',
    ':pilot:': '🧑‍✈️',
    ':astronaut:': '👨‍🚀',
    
    # Animals
    ':cat:': '🐱',
    ':dog:': '🐶',
    ':mouse:': '🐭',
    ':hamster:': '🐹',
    ':rabbit:': '🐰',
    ':fox:': '🦊',
    ':bear:': '🐻',
    ':panda:': '🐼',
    ':koala:': '🐨',
    ':tiger:': '🐯',
    ':lion:': '🦁',
    ':cow:': '🐮',
    ':pig:': '🐷',
    ':frog:': '🐸',
    ':monkey:': '🐵',
    ':chicken:': '🐔',
    ':penguin:': '🐧',
    ':bird:': '🐦',
    ':eagle:': '🦅',
    ':duck:': '🦆',
    ':swan:': '🦢',
    ':owl:': '🦉',
    ':bat:': '🦇',
    ':wolf:': '🐺',
    ':horse:': '🐴',
    ':unicorn:': '🦄',
    ':dragon:': '🐉',
    ':snake:': '🐍',
    ':turtle:': '🐢',
    ':fish:': '🐠',
    ':shark:': '🦈',
    ':whale:': '🐋',
    ':dolphin:': '🐬',
    ':octopus:': '🐙',
    ':spider:': '🕷️',
    ':butterfly:': '🦋',
    ':bee:': '🐝',
    ':ant:': '🐜',
    
    # Admin & Moderation
    ':admin:': '👮',
    ':ban_hammer:': '🔨',
    ':warning:': '⚠️',
    ':stop:': '🛑',
    ':police:': '👮',
    ':cop:': '👮‍♂️',
    ':judge:': '👨‍⚖️',
    ':forbidden:': '🚫',
    ':no_entry:': '⛔',
    ':underage:': '🔞',
    ':id:': '🆔',
    ':sos:': '🆘',
    ':radioactive:': '☢️',
    ':biohazard:': '☣️',
    
    # Technology & Gaming
    ':gamepad:': '🎮',
    ':computer:': '💻',
    ':phone:': '📱',
    ':wifi:': '📶',
    ':battery:': '🔋',
    ':laptop:': '💻',
    ':desktop:': '🖥️',
    ':keyboard:': '⌨️',
    ':mouse_computer:': '🖱️',
    ':printer:': '🖨️',
    ':camera:': '📷',
    ':video_camera:': '📹',
    ':tv:': '📺',
    ':radio:': '📻',
    ':headphones:': '🎧',
    ':speaker:': '🔊',
    ':microphone:': '🎤',
    ':satellite:': '📡',
    ':dvd:': '📀',
    ':floppy_disk:': '💾',
    ':cd:': '💿',
    ':usb:': '🔌',
    ':electric_plug:': '🔌',
    ':flashlight:': '🔦',
    ':bulb:': '💡',
    
    # Food & Drinks
    ':pizza:': '🍕',
    ':burger:': '🍔',
    ':fries:': '🍟',
    ':hotdog:': '🌭',
    ':taco:': '🌮',
    ':burrito:': '🌯',
    ':sandwich:': '🥪',
    ':salad:': '🥗',
    ':pasta:': '🍝',
    ':ramen:': '🍜',
    ':sushi:': '🍣',
    ':rice:': '🍚',
    ':bread:': '🍞',
    ':croissant:': '🥐',
    ':donut:': '🍩',
    ':cookie:': '🍪',
    ':chocolate:': '🍫',
    ':candy:': '🍬',
    ':lollipop:': '🍭',
    ':ice_cream:': '🍦',
    ':apple:': '🍎',
    ':banana:': '🍌',
    ':orange:': '🍊',
    ':grapes:': '🍇',
    ':strawberry:': '🍓',
    ':watermelon:': '🍉',
    ':peach:': '🍑',
    ':pineapple:': '🍍',
    ':coffee:': '☕',
    ':tea:': '🍵',
    ':milk:': '🥛',
    ':water:': '💧',
    
    # Vehicles & Transportation
    ':car:': '🚗',
    ':taxi:': '🚕',
    ':bus:': '🚌',
    ':train:': '🚂',
    ':airplane:': '✈️',
    ':helicopter:': '🚁',
    ':ship:': '🚢',
    ':boat:': '⛵',
    ':bike:': '🚴',
    ':motorcycle:': '🏍️',
    ':scooter:': '🛴',
    ':skateboard:': '🛹',
    ':roller_skate:': '🛼',
    
    # Sports & Activities
    ':soccer:': '⚽',
    ':basketball:': '🏀',
    ':football:': '🏈',
    ':baseball:': '⚾',
    ':tennis:': '🎾',
    ':volleyball:': '🏐',
    ':golf:': '⛳',
    ':bowling:': '🎳',
    ':ping_pong:': '🏓',
    ':badminton:': '🏸',
    ':hockey:': '🏒',
    ':boxing:': '🥊',
    ':martial_arts:': '🥋',
    ':running:': '🏃',
    ':walking:': '🚶',
    ':swimming:': '🏊',
    ':surfing:': '🏄',
    ':skiing:': '🎿',
    ':snowboarding:': '🏂',
    ':climbing:': '🧗',
    ':weight_lifting:': '🏋️',
    ':yoga:': '🧘',
    
    # Time & Calendar
    ':clock:': '🕐',
    ':alarm_clock:': '⏰',
    ':timer:': '⏲️',
    ':hourglass:': '⏳',
    ':calendar:': '📅',
    ':date:': '📆',
    ':spiral_calendar:': '🗓️',
    
    # Symbols & Signs
    ':plus:': '➕',
    ':minus:': '➖',
    ':multiply:': '✖️',
    ':divide:': '➗',
    ':equals:': '🟰',
    ':question:': '❓',
    ':exclamation:': '❗',
    ':bangbang:': '‼️',
    ':interrobang:': '⁉️',
    ':hash:': '#️⃣',
    ':asterisk:': '*️⃣',
    ':zero:': '0️⃣',
    ':one:': '1️⃣',
    ':two:': '2️⃣',
    ':three:': '3️⃣',
    ':four:': '4️⃣',
    ':five:': '5️⃣',
    ':six:': '6️⃣',
    ':seven:': '7️⃣',
    ':eight:': '8️⃣',
    ':nine:': '9️⃣',
    ':ten:': '🔟',
    ':arrow_up:': '⬆️',
    ':arrow_down:': '⬇️',
    ':arrow_left:': '⬅️',
    ':arrow_right:': '➡️',
    ':arrows_clockwise:': '🔃',
    ':arrows_counterclockwise:': '🔄',
    ':recycle:': '♻️',
    ':infinity:': '♾️',
    ':copyright:': '©️',
    ':registered:': '®️',
    ':trademark:': '™️',
}

# Add EMOJI_SHORTCUTS as an alias for EMOJI_MAP
EMOJI_SHORTCUTS = EMOJI_MAP

def convert_emojis(text):
    """Convert emoji shortcodes to actual emojis"""
    for shortcode, emoji in EMOJI_MAP.items():
        text = text.replace(shortcode, emoji)
    return text

def get_emoji_list():
    """Return a formatted list of available emojis"""
    categories = {
        'Happy': [':smile:', ':laugh:', ':grin:', ':wink:', ':cool:', ':love:', ':happy:', ':blush:'],
        'Hearts': [':heart:', ':red_heart:', ':blue_heart:', ':green_heart:', ':yellow_heart:', ':purple_heart:'],
        'Reactions': [':fire:', ':thumbsup:', ':clap:', ':100:', ':star:', ':check:', ':muscle:'],
        'Gestures': [':wave:', ':point_right:', ':ok_hand:', ':peace:', ':pray:', ':handshake:'],
        'Sad': [':sad:', ':cry:', ':angry:', ':disappointed:', ':worried:', ':confused:'],
        'Fun': [':party:', ':tada:', ':gift:', ':cake:', ':dancing:', ':celebration:'],
        'Objects': [':rocket:', ':crown:', ':gem:', ':boom:', ':lightning:', ':trophy:'],
        'Animals': [':cat:', ':dog:', ':bear:', ':panda:', ':lion:', ':tiger:', ':unicorn:'],
        'Food': [':pizza:', ':burger:', ':cake:', ':coffee:', ':beer:', ':ice_cream:'],
        'Nature': [':sun:', ':moon:', ':rainbow:', ':tree:', ':flower:', ':rose:', ':star2:'],
        'Tech': [':computer:', ':phone:', ':gamepad:', ':wifi:', ':battery:', ':camera:'],
        'Admin': [':admin:', ':ban_hammer:', ':warning:', ':stop:', ':police:', ':forbidden:']
    }
    
    emoji_help = "📝 Available Emojis:\n"
    for category, emojis in categories.items():
        emoji_help += f"\n{category}: "
        emoji_help += " ".join([f"{code} {EMOJI_MAP[code]}" for code in emojis if code in EMOJI_MAP])
    
    emoji_help += "\n\nJust type the code in your message! Example: 'hello :wave: :smile:'"
    return emoji_help

def get_emoji_categories():
    """Return emojis organized by categories for GUI"""
    return {
        'Happy': {
            ':smile:': '😄', ':laugh:': '😂', ':grin:': '😀', ':joy:': '😂',
            ':wink:': '😉', ':cool:': '😎', ':love:': '😍', ':happy:': '😊',
            ':blush:': '😊', ':smirk:': '😏', ':relaxed:': '☺️', ':innocent:': '😇',
            ':heart_eyes:': '😍', ':kiss:': '😘', ':sunglasses:': '😎'
        },
        'Hearts': {
            ':heart:': '❤️', ':red_heart:': '❤️', ':orange_heart:': '🧡', ':yellow_heart:': '💛',
            ':green_heart:': '💚', ':blue_heart:': '💙', ':purple_heart:': '💜', ':brown_heart:': '🤎',
            ':black_heart:': '🖤', ':white_heart:': '🤍', ':pink_heart:': '💕', ':two_hearts:': '💕',
            ':heartbeat:': '💓', ':sparkling_heart:': '💖', ':broken_heart:': '💔'
        },
        'Reactions': {
            ':fire:': '🔥', ':thumbsup:': '👍', ':thumbsdown:': '👎', ':clap:': '👏',
            ':pray:': '🙏', ':100:': '💯', ':star:': '⭐', ':check:': '✅',
            ':cross:': '❌', ':muscle:': '💪', ':fist:': '✊', ':punch:': '👊'
        },
        'Gestures': {
            ':wave:': '👋', ':point_right:': '👉', ':point_left:': '👈', ':point_up:': '👆',
            ':point_down:': '👇', ':ok_hand:': '👌', ':peace:': '✌️', ':raised_hand:': '✋',
            ':open_hands:': '👐', ':handshake:': '🤝', ':writing_hand:': '✍️'
        },
        'Sad': {
            ':sad:': '😢', ':cry:': '😭', ':angry:': '😠', ':rage:': '😡',
            ':disappointed:': '😞', ':worried:': '😟', ':confused:': '😕', ':tired:': '😴',
            ':sick:': '🤒', ':dizzy:': '😵', ':scared:': '😨', ':scream:': '😱'
        },
        'Fun': {
            ':party:': '🎉', ':tada:': '🎊', ':balloon:': '🎈', ':gift:': '🎁',
            ':cake:': '🎂', ':celebration:': '🎉', ':dancing:': '💃', ':man_dancing:': '🕺',
            ':champagne:': '🍾', ':beer:': '🍺', ':cocktail:': '🍸'
        },
        'Objects': {
            ':rocket:': '🚀', ':crown:': '👑', ':gem:': '💎', ':boom:': '💥',
            ':lightning:': '⚡', ':shield:': '🛡️', ':sword:': '⚔️', ':trophy:': '🏆',
            ':medal:': '🏅', ':key:': '🗝️', ':moneybag:': '💰', ':gift_heart:': '💝'
        },
        'Animals': {
            ':cat:': '🐱', ':dog:': '🐶', ':bear:': '🐻', ':panda:': '🐼',
            ':lion:': '🦁', ':tiger:': '🐯', ':fox:': '🦊', ':rabbit:': '🐰',
            ':monkey:': '🐵', ':frog:': '🐸', ':penguin:': '🐧', ':unicorn:': '🦄'
        },
        'Food': {
            ':pizza:': '🍕', ':burger:': '🍔', ':cake:': '🎂', ':coffee:': '☕',
            ':beer:': '🍺', ':ice_cream:': '🍦', ':donut:': '🍩', ':cookie:': '🍪',
            ':apple:': '🍎', ':banana:': '🍌', ':pizza:': '🍕', ':taco:': '🌮'
        },
        'Nature': {
            ':sun:': '☀️', ':moon:': '🌙', ':rainbow:': '🌈', ':tree:': '🌳',
            ':flower:': '🌸', ':rose:': '🌹', ':star2:': '🌟', ':sparkles:': '✨',
            ':cloud:': '☁️', ':rain:': '🌧️', ':snow:': '❄️', ':lightning:': '⚡'
        },
        'Tech': {
            ':computer:': '💻', ':phone:': '📱', ':gamepad:': '🎮', ':wifi:': '📶',
            ':battery:': '🔋', ':camera:': '📷', ':tv:': '📺', ':headphones:': '🎧',
            ':microphone:': '🎤', ':bulb:': '💡', ':rocket:': '🚀'
        },
        'Admin': {
            ':admin:': '👮', ':ban_hammer:': '🔨', ':warning:': '⚠️', ':stop:': '🛑',
            ':police:': '👮', ':forbidden:': '🚫', ':no_entry:': '⛔', ':sos:': '🆘'
        }
    }

def search_emoji(keyword):
    """Search for emojis by keyword"""
    results = []
    keyword = keyword.lower()
    
    for shortcode, emoji in EMOJI_MAP.items():
        if keyword in shortcode.lower():
            results.append(f"{shortcode} {emoji}")
    
    return results if results else ["No emojis found for that keyword 😔"]

def get_popular_emojis():
    """Return most commonly used emojis"""
    return [
        ':smile:', ':heart:', ':fire:', ':thumbsup:', ':laugh:', ':wink:', 
        ':party:', ':rocket:', ':100:', ':clap:', ':love:', ':star:',
        ':wave:', ':ok_hand:', ':cool:', ':pizza:', ':coffee:', ':cake:'
    ]